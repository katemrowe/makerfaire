var FixedHeader;!function(window,document,undefined){var factory=function($){"use strict";return FixedHeader=function(mTable,oInit){if(!this instanceof FixedHeader)return void alert("FixedHeader warning: FixedHeader must be initialised with the 'new' keyword.");var oSettings={aoCache:[],oSides:{top:!0,bottom:!1,left:0,right:0},oZIndexes:{top:104,bottom:103,left:102,right:101},oCloneOnDraw:{top:!1,bottom:!1,left:!0,right:!0},oMes:{iTableWidth:0,iTableHeight:0,iTableLeft:0,iTableRight:0,iTableTop:0,iTableBottom:0},oOffset:{top:0},nTable:null,bFooter:!1,bInitComplete:!1};this.fnGetSettings=function(){return oSettings},this.fnUpdate=function(){this._fnUpdateClones(),this._fnUpdatePositions()},this.fnPosition=function(){this._fnUpdatePositions()};var dt=$.fn.dataTable.Api?new $.fn.dataTable.Api(mTable).settings()[0]:mTable.fnSettings();dt._oPluginFixedHeader=this,this.fnInit(dt,oInit)},FixedHeader.prototype={fnInit:function(oDtSettings,oInit){var s=this.fnGetSettings(),that=this;return this.fnInitSettings(s,oInit),""!==oDtSettings.oScroll.sX||""!==oDtSettings.oScroll.sY?void alert("FixedHeader 2 is not supported with DataTables' scrolling mode at this time"):(s.nTable=oDtSettings.nTable,oDtSettings.aoDrawCallback.unshift({fn:function(){FixedHeader.fnMeasure(),that._fnUpdateClones.call(that),that._fnUpdatePositions.call(that)},sName:"FixedHeader"}),s.bFooter=$(">tfoot",s.nTable).length>0?!0:!1,s.oSides.top&&s.aoCache.push(that._fnCloneTable("fixedHeader","FixedHeader_Header",that._fnCloneThead)),s.oSides.bottom&&s.aoCache.push(that._fnCloneTable("fixedFooter","FixedHeader_Footer",that._fnCloneTfoot)),s.oSides.left&&s.aoCache.push(that._fnCloneTable("fixedLeft","FixedHeader_Left",that._fnCloneTLeft,s.oSides.left)),s.oSides.right&&s.aoCache.push(that._fnCloneTable("fixedRight","FixedHeader_Right",that._fnCloneTRight,s.oSides.right)),FixedHeader.afnScroll.push(function(){that._fnUpdatePositions.call(that)}),$(window).resize(function(){FixedHeader.fnMeasure(),that._fnUpdateClones.call(that),that._fnUpdatePositions.call(that)}),$(s.nTable).on("column-reorder.dt",function(){FixedHeader.fnMeasure(),that._fnUpdateClones(!0),that._fnUpdatePositions()}).on("column-visibility.dt",function(){FixedHeader.fnMeasure(),that._fnUpdateClones(!0),that._fnUpdatePositions()}),FixedHeader.fnMeasure(),that._fnUpdateClones(),that._fnUpdatePositions(),void(s.bInitComplete=!0))},fnInitSettings:function(s,oInit){oInit!==undefined&&(oInit.top!==undefined&&(s.oSides.top=oInit.top),oInit.bottom!==undefined&&(s.oSides.bottom=oInit.bottom),"boolean"==typeof oInit.left?s.oSides.left=oInit.left?1:0:oInit.left!==undefined&&(s.oSides.left=oInit.left),"boolean"==typeof oInit.right?s.oSides.right=oInit.right?1:0:oInit.right!==undefined&&(s.oSides.right=oInit.right),oInit.zTop!==undefined&&(s.oZIndexes.top=oInit.zTop),oInit.zBottom!==undefined&&(s.oZIndexes.bottom=oInit.zBottom),oInit.zLeft!==undefined&&(s.oZIndexes.left=oInit.zLeft),oInit.zRight!==undefined&&(s.oZIndexes.right=oInit.zRight),oInit.offsetTop!==undefined&&(s.oOffset.top=oInit.offsetTop),oInit.alwaysCloneTop!==undefined&&(s.oCloneOnDraw.top=oInit.alwaysCloneTop),oInit.alwaysCloneBottom!==undefined&&(s.oCloneOnDraw.bottom=oInit.alwaysCloneBottom),oInit.alwaysCloneLeft!==undefined&&(s.oCloneOnDraw.left=oInit.alwaysCloneLeft),oInit.alwaysCloneRight!==undefined&&(s.oCloneOnDraw.right=oInit.alwaysCloneRight))},_fnCloneTable:function(sType,sClass,fnClone,iCells){var nCTable,s=this.fnGetSettings();"absolute"!=$(s.nTable.parentNode).css("position")&&(s.nTable.parentNode.style.position="relative"),nCTable=s.nTable.cloneNode(!1),nCTable.removeAttribute("id");var nDiv=document.createElement("div");return nDiv.style.position="absolute",nDiv.style.top="0px",nDiv.style.left="0px",nDiv.className+=" FixedHeader_Cloned "+sType+" "+sClass,"fixedHeader"==sType&&(nDiv.style.zIndex=s.oZIndexes.top),"fixedFooter"==sType&&(nDiv.style.zIndex=s.oZIndexes.bottom),"fixedLeft"==sType?nDiv.style.zIndex=s.oZIndexes.left:"fixedRight"==sType&&(nDiv.style.zIndex=s.oZIndexes.right),nCTable.style.margin="0",nDiv.appendChild(nCTable),document.body.appendChild(nDiv),{nNode:nCTable,nWrapper:nDiv,sType:sType,sPosition:"",sTop:"",sLeft:"",fnClone:fnClone,iCells:iCells}},_fnMeasure:function(){{var s=this.fnGetSettings(),m=s.oMes,jqTable=$(s.nTable),oOffset=jqTable.offset(),iParentScrollTop=this._fnSumScroll(s.nTable.parentNode,"scrollTop");this._fnSumScroll(s.nTable.parentNode,"scrollLeft")}m.iTableWidth=jqTable.outerWidth(),m.iTableHeight=jqTable.outerHeight(),m.iTableLeft=oOffset.left+s.nTable.parentNode.scrollLeft,m.iTableTop=oOffset.top+iParentScrollTop,m.iTableRight=m.iTableLeft+m.iTableWidth,m.iTableRight=FixedHeader.oDoc.iWidth-m.iTableLeft-m.iTableWidth,m.iTableBottom=FixedHeader.oDoc.iHeight-m.iTableTop-m.iTableHeight},_fnSumScroll:function(n,side){for(var i=n[side];(n=n.parentNode)&&"HTML"!=n.nodeName&&"BODY"!=n.nodeName;)i=n[side];return i},_fnUpdatePositions:function(){var s=this.fnGetSettings();this._fnMeasure();for(var i=0,iLen=s.aoCache.length;iLen>i;i++)"fixedHeader"==s.aoCache[i].sType?this._fnScrollFixedHeader(s.aoCache[i]):"fixedFooter"==s.aoCache[i].sType?this._fnScrollFixedFooter(s.aoCache[i]):"fixedLeft"==s.aoCache[i].sType?this._fnScrollHorizontalLeft(s.aoCache[i]):this._fnScrollHorizontalRight(s.aoCache[i])},_fnUpdateClones:function(full){var s=this.fnGetSettings();full&&(s.bInitComplete=!1);for(var i=0,iLen=s.aoCache.length;iLen>i;i++)s.aoCache[i].fnClone.call(this,s.aoCache[i]);full&&(s.bInitComplete=!0)},_fnScrollHorizontalRight:function(oCache){var s=this.fnGetSettings(),oMes=s.oMes,oWin=FixedHeader.oWin,oDoc=FixedHeader.oDoc,nTable=oCache.nWrapper,iFixedWidth=$(nTable).outerWidth();oWin.iScrollRight<oMes.iTableRight?(this._fnUpdateCache(oCache,"sPosition","absolute","position",nTable.style),this._fnUpdateCache(oCache,"sTop",oMes.iTableTop+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft",oMes.iTableLeft+oMes.iTableWidth-iFixedWidth+"px","left",nTable.style)):oMes.iTableLeft<oDoc.iWidth-oWin.iScrollRight-iFixedWidth?(this._fnUpdateCache(oCache,"sPosition","fixed","position",nTable.style),this._fnUpdateCache(oCache,"sTop",oMes.iTableTop-oWin.iScrollTop+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft",oWin.iWidth-iFixedWidth+"px","left",nTable.style)):(this._fnUpdateCache(oCache,"sPosition","absolute","position",nTable.style),this._fnUpdateCache(oCache,"sTop",oMes.iTableTop+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft",oMes.iTableLeft+"px","left",nTable.style))},_fnScrollHorizontalLeft:function(oCache){var s=this.fnGetSettings(),oMes=s.oMes,oWin=FixedHeader.oWin,nTable=(FixedHeader.oDoc,oCache.nWrapper),iCellWidth=$(nTable).outerWidth();oWin.iScrollLeft<oMes.iTableLeft?(this._fnUpdateCache(oCache,"sPosition","absolute","position",nTable.style),this._fnUpdateCache(oCache,"sTop",oMes.iTableTop+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft",oMes.iTableLeft+"px","left",nTable.style)):oWin.iScrollLeft<oMes.iTableLeft+oMes.iTableWidth-iCellWidth?(this._fnUpdateCache(oCache,"sPosition","fixed","position",nTable.style),this._fnUpdateCache(oCache,"sTop",oMes.iTableTop-oWin.iScrollTop+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft","0px","left",nTable.style)):(this._fnUpdateCache(oCache,"sPosition","absolute","position",nTable.style),this._fnUpdateCache(oCache,"sTop",oMes.iTableTop+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft",oMes.iTableLeft+oMes.iTableWidth-iCellWidth+"px","left",nTable.style))},_fnScrollFixedFooter:function(oCache){var s=this.fnGetSettings(),oMes=s.oMes,oWin=FixedHeader.oWin,nTable=(FixedHeader.oDoc,oCache.nWrapper),iTheadHeight=$("thead",s.nTable).outerHeight(),iCellHeight=$(nTable).outerHeight();oWin.iScrollBottom<oMes.iTableBottom?(this._fnUpdateCache(oCache,"sPosition","absolute","position",nTable.style),this._fnUpdateCache(oCache,"sTop",oMes.iTableTop+oMes.iTableHeight-iCellHeight+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft",oMes.iTableLeft+"px","left",nTable.style)):oWin.iScrollBottom<oMes.iTableBottom+oMes.iTableHeight-iCellHeight-iTheadHeight?(this._fnUpdateCache(oCache,"sPosition","fixed","position",nTable.style),this._fnUpdateCache(oCache,"sTop",oWin.iHeight-iCellHeight+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft",oMes.iTableLeft-oWin.iScrollLeft+"px","left",nTable.style)):(this._fnUpdateCache(oCache,"sPosition","absolute","position",nTable.style),this._fnUpdateCache(oCache,"sTop",oMes.iTableTop+iCellHeight+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft",oMes.iTableLeft+"px","left",nTable.style))},_fnScrollFixedHeader:function(oCache){for(var s=this.fnGetSettings(),oMes=s.oMes,oWin=FixedHeader.oWin,nTable=(FixedHeader.oDoc,oCache.nWrapper),iTbodyHeight=0,anTbodies=s.nTable.getElementsByTagName("tbody"),i=0;i<anTbodies.length;++i)iTbodyHeight+=anTbodies[i].offsetHeight;oMes.iTableTop>oWin.iScrollTop+s.oOffset.top?(this._fnUpdateCache(oCache,"sPosition","absolute","position",nTable.style),this._fnUpdateCache(oCache,"sTop",oMes.iTableTop+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft",oMes.iTableLeft+"px","left",nTable.style)):oWin.iScrollTop+s.oOffset.top>oMes.iTableTop+iTbodyHeight?(this._fnUpdateCache(oCache,"sPosition","absolute","position",nTable.style),this._fnUpdateCache(oCache,"sTop",oMes.iTableTop+iTbodyHeight+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft",oMes.iTableLeft+"px","left",nTable.style)):(this._fnUpdateCache(oCache,"sPosition","fixed","position",nTable.style),this._fnUpdateCache(oCache,"sTop",s.oOffset.top+"px","top",nTable.style),this._fnUpdateCache(oCache,"sLeft",oMes.iTableLeft-oWin.iScrollLeft+"px","left",nTable.style))},_fnUpdateCache:function(oCache,sCache,sSet,sProperty,oObj){oCache[sCache]!=sSet&&(oObj[sProperty]=sSet,oCache[sCache]=sSet)},_fnClassUpdate:function(source,dest){var that=this;("TR"===source.nodeName.toUpperCase()||"TH"===source.nodeName.toUpperCase()||"TD"===source.nodeName.toUpperCase()||"SPAN"===source.nodeName.toUpperCase())&&(dest.className=source.className),$(source).children().each(function(i){that._fnClassUpdate($(source).children()[i],$(dest).children()[i])})},_fnCloneThead:function(oCache){var s=this.fnGetSettings(),nTable=oCache.nNode;if(s.bInitComplete&&!s.oCloneOnDraw.top)return void this._fnClassUpdate($("thead",s.nTable)[0],$("thead",nTable)[0]);var iDtWidth=$(s.nTable).outerWidth();for(oCache.nWrapper.style.width=iDtWidth+"px",nTable.style.width=iDtWidth+"px";nTable.childNodes.length>0;)$("thead th",nTable).unbind("click"),nTable.removeChild(nTable.childNodes[0]);var nThead=$("thead",s.nTable).clone(!0)[0];nTable.appendChild(nThead);var a=[],b=[];$("thead>tr th",s.nTable).each(function(){a.push($(this).width())}),$("thead>tr td",s.nTable).each(function(){b.push($(this).width())}),$("thead>tr th",s.nTable).each(function(i){$("thead>tr th:eq("+i+")",nTable).width(a[i]),$(this).width(a[i])}),$("thead>tr td",s.nTable).each(function(i){$("thead>tr td:eq("+i+")",nTable).width(b[i]),$(this).width(b[i])}),$("th.sorting, th.sorting_desc, th.sorting_asc",nTable).bind("click",function(){this.blur()})},_fnCloneTfoot:function(oCache){var s=this.fnGetSettings(),nTable=oCache.nNode;for(oCache.nWrapper.style.width=$(s.nTable).outerWidth()+"px";nTable.childNodes.length>0;)nTable.removeChild(nTable.childNodes[0]);var nTfoot=$("tfoot",s.nTable).clone(!0)[0];nTable.appendChild(nTfoot),$("tfoot:eq(0)>tr th",s.nTable).each(function(i){$("tfoot:eq(0)>tr th:eq("+i+")",nTable).width($(this).width())}),$("tfoot:eq(0)>tr td",s.nTable).each(function(i){$("tfoot:eq(0)>tr td:eq("+i+")",nTable).width($(this).width())})},_fnCloneTLeft:function(oCache){for(var s=this.fnGetSettings(),nTable=oCache.nNode,nBody=$("tbody",s.nTable)[0];nTable.childNodes.length>0;)nTable.removeChild(nTable.childNodes[0]);nTable.appendChild($("thead",s.nTable).clone(!0)[0]),nTable.appendChild($("tbody",s.nTable).clone(!0)[0]),s.bFooter&&nTable.appendChild($("tfoot",s.nTable).clone(!0)[0]);var sSelector="gt("+(oCache.iCells-1)+")";$("thead tr",nTable).each(function(){$("th:"+sSelector,this).remove()}),$("tfoot tr",nTable).each(function(){$("th:"+sSelector,this).remove()}),$("tbody tr",nTable).each(function(){$("td:"+sSelector,this).remove()}),this.fnEqualiseHeights("thead",nBody.parentNode,nTable),this.fnEqualiseHeights("tbody",nBody.parentNode,nTable),this.fnEqualiseHeights("tfoot",nBody.parentNode,nTable);for(var iWidth=0,i=0;i<oCache.iCells;i++)iWidth+=$("thead tr th:eq("+i+")",s.nTable).outerWidth();nTable.style.width=iWidth+"px",oCache.nWrapper.style.width=iWidth+"px"},_fnCloneTRight:function(oCache){for(var s=this.fnGetSettings(),nBody=$("tbody",s.nTable)[0],nTable=oCache.nNode,iCols=$("tbody tr:eq(0) td",s.nTable).length;nTable.childNodes.length>0;)nTable.removeChild(nTable.childNodes[0]);nTable.appendChild($("thead",s.nTable).clone(!0)[0]),nTable.appendChild($("tbody",s.nTable).clone(!0)[0]),s.bFooter&&nTable.appendChild($("tfoot",s.nTable).clone(!0)[0]),$("thead tr th:lt("+(iCols-oCache.iCells)+")",nTable).remove(),$("tfoot tr th:lt("+(iCols-oCache.iCells)+")",nTable).remove(),$("tbody tr",nTable).each(function(){$("td:lt("+(iCols-oCache.iCells)+")",this).remove()}),this.fnEqualiseHeights("thead",nBody.parentNode,nTable),this.fnEqualiseHeights("tbody",nBody.parentNode,nTable),this.fnEqualiseHeights("tfoot",nBody.parentNode,nTable);for(var iWidth=0,i=0;i<oCache.iCells;i++)iWidth+=$("thead tr th:eq("+(iCols-1-i)+")",s.nTable).outerWidth();nTable.style.width=iWidth+"px",oCache.nWrapper.style.width=iWidth+"px"},fnEqualiseHeights:function(parent,original,clone){var height,originals=$(parent+" tr",original);$(parent+" tr",clone).each(function(k){height=originals.eq(k).css("height"),"Microsoft Internet Explorer"==navigator.appName&&(height=parseInt(height,10)+1),$(this).css("height",height),originals.eq(k).css("height",height)})}},FixedHeader.oWin={iScrollTop:0,iScrollRight:0,iScrollBottom:0,iScrollLeft:0,iHeight:0,iWidth:0},FixedHeader.oDoc={iHeight:0,iWidth:0},FixedHeader.afnScroll=[],FixedHeader.fnMeasure=function(){var jqWin=$(window),jqDoc=$(document),oWin=FixedHeader.oWin,oDoc=FixedHeader.oDoc;oDoc.iHeight=jqDoc.height(),oDoc.iWidth=jqDoc.width(),oWin.iHeight=jqWin.height(),oWin.iWidth=jqWin.width(),oWin.iScrollTop=jqWin.scrollTop(),oWin.iScrollLeft=jqWin.scrollLeft(),oWin.iScrollRight=oDoc.iWidth-oWin.iScrollLeft-oWin.iWidth,oWin.iScrollBottom=oDoc.iHeight-oWin.iScrollTop-oWin.iHeight},FixedHeader.version="2.1.2",$(window).scroll(function(){FixedHeader.fnMeasure();for(var i=0,iLen=FixedHeader.afnScroll.length;iLen>i;i++)FixedHeader.afnScroll[i]()}),$.fn.dataTable.FixedHeader=FixedHeader,$.fn.DataTable.FixedHeader=FixedHeader,FixedHeader};"function"==typeof define&&define.amd?define(["jquery","datatables"],factory):"object"==typeof exports?factory(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.FixedHeader&&factory(jQuery,jQuery.fn.dataTable)}(window,document);